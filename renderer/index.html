<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Radar Predictor - AI 기상 레이더 예측</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="app-container" data-theme="light">
        <!-- 헤더 -->
        <header class="header">
            <div class="header-left">
                <i class="fas fa-cloud-rain"></i>
                <h1>Radar Predictor</h1>
                <span class="version">v1.0.0</span>
            </div>
            <div class="header-right">
                <div class="status-indicator">
                    <span class="status-dot" id="backendStatus"></span>
                    <span class="status-text" id="backendStatusText">연결 확인 중...</span>
                </div>
                <button class="theme-toggle" id="themeToggle">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </header>

        <!-- 메인 컨테이너 -->
        <div class="main-container">
            <!-- 사이드바 (설정 패널) -->
            <aside class="sidebar">
                <div class="sidebar-section">
                    <h3><i class="fas fa-key"></i> API 설정</h3>
                    <div class="input-group">
                        <label for="apiKey">기상청 API 키</label>
                        <div class="input-wrapper">
                            <input type="password" id="apiKey" placeholder="API 키를 입력하세요">
                            <button class="toggle-visibility" id="toggleApiKey">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <div class="input-actions">
                            <button class="btn-secondary" id="saveApiKey">저장</button>
                            <button class="btn-secondary" id="loadApiKey">불러오기</button>
                        </div>
                    </div>
                </div>

                <div class="sidebar-section">
                    <h3><i class="fas fa-calendar-alt"></i> 예측 시간 설정</h3>
                    <div class="datetime-picker">
                        <div class="input-group">
                            <label for="predictionDate">날짜</label>
                            <input type="date" id="predictionDate">
                        </div>
                        <div class="input-group">
                            <label for="predictionTime">시간 (5분 단위)</label>
                            <div class="time-picker">
                                <select id="predictionHour">
                                    <!-- 0-23시 옵션 -->
                                </select>
                                <span>:</span>
                                <select id="predictionMinute">
                                    <option value="00">00</option>
                                    <option value="05">05</option>
                                    <option value="10">10</option>
                                    <option value="15">15</option>
                                    <option value="20">20</option>
                                    <option value="25">25</option>
                                    <option value="30">30</option>
                                    <option value="35">35</option>
                                    <option value="40">40</option>
                                    <option value="45">45</option>
                                    <option value="50">50</option>
                                    <option value="55">55</option>
                                </select>
                            </div>
                        </div>
                        <div class="input-times-info">
                            <p><i class="fas fa-info-circle"></i> 입력 데이터 시간</p>
                            <ul id="inputTimesList">
                                <!-- 동적으로 생성 -->
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="sidebar-section">
                    <button class="btn-primary predict-btn" id="predictBtn">
                        <span class="btn-icon"><i class="fas fa-brain"></i></span>
                        <span class="btn-text">예측 시작</span>
                    </button>
                </div>

                <div class="sidebar-section">
                    <div class="progress-container" id="progressContainer">
                        <div class="progress-header">
                            <span id="progressText">대기 중...</span>
                            <span id="progressPercent">0%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <div class="progress-steps" id="progressSteps">
                            <div class="step">데이터 다운로드</div>
                            <div class="step">AI 예측</div>
                            <div class="step">시각화</div>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- 메인 콘텐츠 영역 -->
            <main class="content">
                <div class="content-header">
                    <h2>예측 결과</h2>
                    <div class="content-controls">
                        <button class="btn-secondary" id="exportBtn" disabled>
                            <i class="fas fa-download"></i> 내보내기
                        </button>
                        <button class="btn-secondary" id="fullscreenBtn" disabled>
                            <i class="fas fa-expand"></i> 전체화면
                        </button>
                    </div>
                </div>

                <div class="visualization-container">
                    <div class="placeholder" id="placeholderContent">
                        <div class="placeholder-icon">
                            <i class="fas fa-cloud-rain"></i>
                        </div>
                        <h3>AI 레이더 예측을 시작하세요</h3>
                        <p>API 키를 설정하고 예측할 시간을 선택한 후<br>'예측 시작' 버튼을 눌러주세요.</p>
                    </div>

                    <div class="loading-overlay" id="loadingOverlay">
                        <div class="loading-spinner">
                            <div class="spinner-ring"></div>
                            <div class="spinner-ring"></div>
                            <div class="spinner-ring"></div>
                        </div>
                        <p id="loadingText">AI 모델이 예측을 수행하고 있습니다...</p>
                    </div>

                    <div class="result-container" id="resultContainer">
                        <div class="result-image">
                            <img id="predictionImage" alt="예측 결과" />
                        </div>
                        <div class="result-stats">
                            <div class="stat-item">
                                <span class="stat-label">최대 강수량</span>
                                <span class="stat-value" id="maxRainfall">-- mm/h</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">중심점 강수량</span>
                                <span class="stat-value" id="centerRainfall">-- mm/h</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">평균 강수량</span>
                                <span class="stat-value" id="avgRainfall">-- mm/h</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">예측 시간</span>
                                <span class="stat-value" id="predictionTime">--</span>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- 알림 메시지 -->
        <div class="toast-container" id="toastContainer"></div>
    </div>

    <script src="renderer.js"></script>
</body>
</html>